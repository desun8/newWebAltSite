var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r;import{c as d,F as l,i as o,A as m,_ as c,m as u}from"./root.a1a127ca.js";import{v as p,i as g,j as v,t as f,w as x,p as b,n as h,o as y,D as k,E,G as w,e as I,g as _,l as L,H as A,J as F,q as S,K as C,F as O,u as T,T as q,A as j}from"./vendor.43b1651c.js";import{_ as P}from"./Filter.6a9dcf4a.js";import{H as D,i as M}from"./index.9dae01ea.js";var N=p({props:{title:{type:String,required:!0},kind:{type:String,required:!0},tags:{type:String,required:!0}}});const z=x();b("data-v-2bf95322");const H={class:"\n      card-header\n      grid\n      content-start\n      mb-10\n      md:min-h-24\n      lg:min-h-28\n      1.5xl:min-h-36 1.5xl:mb-22\n    ",style:{"word-break":"break-word"}},V={class:"\n        card-title\n        mb-2.5\n        text-5xl\n        leading-9\n        font-semibold\n        uppercase\n        @md:text-4xl @md: @md: @md: @md: @md: @md: @md: @md: @md:leading-7\n        1.5xl:text-6xl 1.5xl:leading-45px 1.5xl:mb-3.5\n      "},$={class:"\n        card-kind\n        mb-1\n        text-sun text-sm\n        !leading-none\n        font-semibold\n        uppercase\n        1.5xl:text-xl\n      "},G={class:"card-tags text-xs !leading-none opacity-50 1.5xl:text-sm"};h();const X=z(((e,t,a,r,n,s)=>(y(),g("div",H,[v("h2",V,f(e.title),1),v("span",$,f(e.kind),1),v("span",G,f(e.tags),1)]))));N.render=X,N.__scopeId="data-v-2bf95322";const B=e=>`background-image: url(${e})`;function R(e,t,a,r,n){(()=>{let e,s;const i=_.timeline({paused:!0}).to(r,{autoAlpha:1,duration:.5},"same").to(r,{x:300,y:-300,duration:100},"same");t.addEventListener("mouseenter",(()=>{e=t.getBoundingClientRect(),s={x:e.width/2,y:e.height/2},i.restart()}),{passive:!0}),t.addEventListener("mouseleave",(()=>{i.pause(),_.to(r,{autoAlpha:0,duration:.5})}),{passive:!0}),t.addEventListener("mousemove",L.exports.throttle((t=>{const r=(e=>({x:e.clientX,y:e.clientY}))(t);var i,d,l,o,m;(e=>{const t=-.015*e.x,r=-.015*e.y;_.to([a,n],{x:(e,a)=>a===n?-1*t:t,y:(e,t)=>t===n?-1*r:r,duration:.2})})((i=r.x,d=r.y,l=e.x,o=e.y,{x:i-l-(m=s).x,y:d-o-m.y}))}),100),{passive:!0})})(),I.create({id:e,trigger:t,start:()=>"top 40%",end:()=>"bottom 40%",toggleClass:"is-active"}),w((()=>{var t;null==(t=I.getById(e))||t.kill()}))}var W=p({props:{text:{type:String,required:!0},bgImage:{type:String,required:!0},setImgElm:{type:Function,required:!0}},setup(e){const t=k();return A((()=>{t.value&&e.setImgElm(t.value)})),{imgElm:t}}});const J=x();b("data-v-7c912e96");const K={class:"card-body min-h-52 relative grid 1.5xl:min-h-72"},Y=v("span",{class:"\n        card-more\n        link link--underline link--uppercase link--bold\n        block\n        mt-14\n        self-end\n        text-sm\n        lg:hidden\n      "},[v("span",{class:"link__text"},"подробнее"),v("span",{class:"link__icon"},[v("svg",{class:"link__arrow",width:"12",height:"12"},[v("use",{"xlink:href":"#icon-arrow"})])])],-1);h();const Q=J(((e,t,a,r,n,s)=>(y(),g("div",K,[v("div",{ref:"imgElm",style:e.bgImage,class:"\n        card-img\n        absolute\n        -z-1\n        top-1/2\n        left-0\n        transform\n        -translate-y-1/2\n        w-5/4\n        h-4/2\n        bg-no-repeat\n      "},null,4),v("span",{innerHTML:e.text,class:"\n        card-text\n        max-w-3/5\n        inline-block\n        text-26px\n        font-thin\n        text-justify\n        uppercase\n        @md:text-2xl @md: @md: @md: @md: @md: @md: @md: @md: @md:leading-none\n        1.5xl:text-4xl 1.5xl:leading-none\n      "},null,8,["innerHTML"]),Y]))));W.render=Q,W.__scopeId="data-v-7c912e96";var U=p({components:{CardItemHeader:N,CardItemBody:W},props:{id:{type:String,required:!0},title:{type:String,required:!0},kind:{type:String,required:!0},tags:{type:Array,required:!0},text:{type:String,required:!0},imgPath:{type:Array,required:!0},href:{type:String,required:!0}},setup(e){const t=k(),a=k(),r=k(),n=k(),{tags:s,imgPath:i,id:o}=F(e),m=E((()=>`#${s.value.join(" #")}`)),{cardImage:c}=function(e){const t=k(!1),a=e[0],r=e[1]||a;return d(l.lossy,((e,a)=>{t.value=!!a})),{cardImage:E((()=>B(t?r:a)))}}(i.value);return A((()=>{t.value&&a.value&&r.value&&n.value&&R(o.value,t.value,a.value,r.value,n.value)})),{card:t,bgArrowsWrapper:a,bgArrows:r,formattedTags:m,cardImage:c,cardImgElm:n,setCardImgElm:e=>{n.value=e}}}});const Z=x();b("data-v-48f2babc");const ee={ref:"card",class:"\n      card\n      lozad\n      relative\n      text-dark-grey\n      <md(:mx-$base-page-gap-negative\n      px-$base-page-gap)\n      md:px-30px md: md: md: md: md: md: md:py-25px md: md: md: md: md: md: md:h-full md: md: md: md: md: md: md:overflow-hidden\n    ","data-toggle-class":"is-visible"},te={ref:"bgArrowsWrapper",class:"absolute top-1/20 -left-1/20 w-6/5 h-6/5 -z-1 <lg:hidden"},ae={ref:"bgArrows",class:"bg-arrows"};h();const re=Z(((e,t,a,r,n,s)=>{const i=S("card-item-header"),d=S("card-item-body");return y(),g("div",ee,[v("div",te,[v("div",ae,null,512)],512),v(i,{title:e.title,kind:e.kind,tags:e.formattedTags},null,8,["title","kind","tags"]),v(d,{text:e.text,bgImage:e.cardImage,"set-img-elm":e.setCardImgElm},null,8,["text","bgImage","set-img-elm"]),v("a",{href:e.href,class:"absolute top-0 left-0 w-full h-full","aria-label":"Подробнее."},null,8,["href"])],512)}));U.render=re,U.__scopeId="data-v-48f2babc";var ne=p({components:{CardItem:U},props:{cardsData:{type:Array,required:!0}},data:()=>({duration:.5,lazyLoad:C()}),methods:{enter(e,t){const{duration:a}=this,r=a;_.from(e,{y:50,alpha:0,duration:a,delay:r,onComplete(){t()}})},leave(e,t){const{duration:a}=this;_.to(e,{y:50,alpha:0,duration:a,onComplete(){t()}})}},mounted(){this.lazyLoad.observe()},updated(){setTimeout((()=>{I.refresh(),this.lazyLoad.observe()}),1e3*this.duration)}});const se=x(),ie=se(((e,t,a,r,n,s)=>{const i=S("card-item");return y(),g(q,{name:"works-cards-list",tag:"ul",class:"<md:block grid grid-cols-2 xl:grid-cols-3",onEnter:e.enter,onLeave:e.leave},{default:se((()=>[(y(!0),g(O,null,T(e.cardsData,(e=>(y(),g("li",{key:e.id,class:"list-item"},[v(i,{id:`${e.id}`,title:e.title,kind:e.kind,tags:e.tags,text:e.text,imgPath:e.imgPath.small,href:e.href},null,8,["id","title","kind","tags","text","imgPath","href"])])))),128))])),_:1},8,["onEnter","onLeave"])}));ne.render=ie,ne.__scopeId="data-v-54b527a8";var de,le;function oe(e){const d=k([]),l=E((()=>{let l;l=e.value===de.ALL?d.value:d.value.filter((t=>0!==t.types.filter((t=>t===e.value)).length));const o=Date.now();return l=l.map((e=>{return d=((e,t)=>{for(var a in t||(t={}))n.call(t,a)&&i(e,a,t[a]);if(r)for(var a of r(t))s.call(t,a)&&i(e,a,t[a]);return e})({},e),l={id:(e.id+o)*L.exports.random(!0)},t(d,a(l));var d,l})),l}));return A((async()=>{const e=await(async()=>await D.get("/api/works/main"))();await d.value.push(...e)})),{worksCardsFiltered:l}}(le=de||(de={})).ALL="все",le.DEVELOPMENT="разработка",le.DESIGN="дизайн",le.CONTEXT="контекст",le.SMM="smm";var me=p({components:{FilterElm:P,CardList:ne},setup(){const{activeFilter:e,setActiveFilter:t,filterItems:a}=function(){const e=k(de.ALL),t=[{value:de.ALL,name:de.ALL,checked:!0},{value:de.DEVELOPMENT,name:de.DEVELOPMENT,checked:!1},{value:de.DESIGN,name:de.DESIGN,checked:!1},{value:de.CONTEXT,name:de.CONTEXT,checked:!1},{value:de.SMM,name:de.SMM,checked:!1}];return{activeFilter:e,setActiveFilter:t=>{e.value=t},filterItems:t}}(),{worksCardsFiltered:r}=oe(e);return{worksCardsFiltered:r,activeFilter:e,setActiveFilter:t,filterItems:a}},methods:{setActiveFilter(e){this.activeFilter=e}}});const ce=x();b("data-v-f190ee22");const ue={class:"works"};h();const pe=ce(((e,t,a,r,n,s)=>{const i=S("filter-elm"),d=S("card-list");return y(),g("div",ue,[v(i,{"filter-items":e.filterItems,"set-active-filter":e.setActiveFilter},null,8,["filter-items","set-active-filter"]),v(d,{"cards-data":e.worksCardsFiltered},null,8,["cards-data"])])}));me.render=pe,me.__scopeId="data-v-f190ee22";o(),j(me).mount("#app"),M(),m.isDesktop?c((()=>import("./index.a9abf57e.js")),["/assets/index.a9abf57e.js","/assets/index.6fcfe337.css","/assets/utils.5f3990ab.js","/assets/submitForm.c3876865.js","/assets/vendor.43b1651c.js","/assets/validation.7713ade2.js","/assets/api.568479fb.js","/assets/loadRecaptcha.c07acc4a.js"]):function(){const e=document.querySelector(".footer-redirect");e&&c((()=>import("./redirectFooter.fcfd2b6b.js")),["/assets/redirectFooter.fcfd2b6b.js","/assets/vendor.43b1651c.js"]).then((({default:t})=>{const a=new t(e);u((()=>a.initMobile()),(()=>{}))}))}();
