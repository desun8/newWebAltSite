import{A as s}from"./root.js";class t{constructor(){this.body=document.body,this.elms=[{target:document.querySelector(".block--seo"),className:"theme-dark"},{target:document.querySelector(".block--design"),className:"theme-sun"}],this.state={in:"",out:""},this.observer=null,this.options={threshold:s.isDesktop?.42:.25}}animation(s,t,e=!1){requestAnimationFrame((()=>{e?(s.classList.add(t),this.body.classList.add(t)):(s.classList.remove(t),this.body.classList.remove(t))}))}isVisible(s){let{state:t}=this;s.forEach((s=>{const e=this.elms.filter((t=>t.target===s.target))[0],{target:i,className:o}=e;s.isIntersecting?(t.in=i,this.animation(i,o,!0)):(t.out=i,document.body.classList.remove(o),i.classList.remove(o),t.in===t.out&&this.animation(i,o))}))}init(){this.observer=new IntersectionObserver(this.isVisible.bind(this),this.options),this.elms.forEach((s=>this.observer.observe(s.target)))}}export{t as C};
