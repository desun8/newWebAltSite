var e=Object.defineProperty,t=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,n=(t,s,i)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[s]=i,o=(e,o)=>{for(var r in o||(o={}))s.call(o,r)&&n(e,r,o[r]);if(t)for(var r of t(o))i.call(o,r)&&n(e,r,o[r]);return e};import{g as r,l,f as a,e as h,h as c,s as d}from"./vendor.43b1651c.js";let m;const u={},p=function(e,t){if(!t)return e();if(void 0===m){const e=document.createElement("link").relList;m=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in u)return;u[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const i=document.createElement("link");return i.rel=t?"stylesheet":m,t||(i.as="script",i.crossOrigin=""),i.href=e,document.head.appendChild(i),t?new Promise(((e,t)=>{i.addEventListener("load",e),i.addEventListener("error",t)})):void 0}))).then((()=>e()))};const g=e=>{const t={padding:e.padding?e.padding:"1em",color:e.color?e.color:"inherit",background:e.background?e.background:"inherit","font-size":e.fontSize?e.fontSize:"inherit","font-weight":e.fontWeight?e.fontWeight:"inherit"};return s=t,Object.entries(s).map((([e,t])=>`${e}: ${t}`)).join("; ");var s},b=(e,t="default")=>{((e,t)=>{console.log("%c%s",t,e)})(e,g({background:"cornflowerblue"}))},A=window.matchMedia("(max-width: 60em)"),y=!window.matchMedia("(max-width: 60em)").matches,f=(e,t,s)=>{let i=!1;const n=i=>{i.matches?(b("IS SMALL SCREEN"),e()):(b("IS LARGE SCREEN"),t()),s&&s()};A.addEventListener("change",n),i||(n(A),i=!0)},v={os:(()=>{let e="Unknown OS";return-1!==navigator.appVersion.indexOf("Win")&&(e="Windows"),-1!==navigator.appVersion.indexOf("Mac")&&(e="MacOS"),-1!==navigator.appVersion.indexOf("Linux")&&(e="Linux"),-1!==navigator.appVersion.indexOf("Android")&&(e="Android"),e})(),isDesktop:y,scrollbar:void 0,isTouchScreen:!!window.navigator.maxTouchPoints&&(document.documentElement.classList.add("js-touch-screen"),!0)};var w,S;(S=w||(w={})).lossy="lossy",S.lossless="lossless",S.alpha="alpha",S.animation="animation";var E,k,x=(e,t)=>{const s=new Image;s.onload=function(){const i=s.width>0&&s.height>0;t(e,i)},s.onerror=function(){t(e,!1)},s.src="data:image/webp;base64,"+{lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"}[e]};(k=E||(E={}))[k.Up=0]="Up",k[k.Down=1]="Down";class I{constructor(e,t=2){this.elm=e,this.wrap=this.elm.querySelector(".ticker__wrap"),this.text=this.wrap.querySelector(".ticker__item"),this.textCount=this.wrap.childElementCount,this.duration=t,this.movePos=this.getTextSize(),this.tween=this.ticker().pause(),this.observer=null,this.init()}getTextSize(){return(this.text.offsetWidth+parseInt(window.getComputedStyle(this.text).getPropertyValue("margin-right")))*(this.textCount-1)}ticker(){return r.fromTo(this.wrap,{x:0},{x:-this.movePos,duration:this.duration,ease:"none",repeat:-1})}update(){this.movePos=this.getTextSize(),null!==this.tween&&this.tween.kill(),this.tween=this.ticker()}intersectionObserver(){return new IntersectionObserver(((e,t)=>{e.forEach((e=>{const{isIntersecting:t}=e;t?this.tween.play():this.tween.pause()}))}),{threshold:.5})}init(){this.observer=this.intersectionObserver(),this.observer.observe(this.elm);const e=l.exports.throttle(this.update,200);window.addEventListener("resize",e.bind(this))}}class C{constructor(e,t,s=3e3){this.speed=s,this.root=e,this.items=this.root.querySelectorAll(`.${t}`),this.size=this.items.length-1,this.curr=0,this.prev=null,this.intervalId=null,this.duration=.2,this.init()}changeSlide(){const e=this.items[this.curr],{duration:t}=this;if(null===this.prev)return r.to(e,{alpha:1,zIndex:1,duration:t}),null;const s=this.items[this.prev],i=r.timeline({duration:t});i.to(s,{alpha:0,zIndex:0}),i.to(e,{alpha:1,zIndex:1})}next(){this.changeSlide(),this.prev=this.curr,this.curr+=1,this.curr>this.size&&(this.curr=0)}autoplay(){null!==this.intervalId&&clearInterval(this.intervalId),this.intervalId=setInterval((()=>{this.next()}),this.speed)}init(){this.items.forEach(((e,t)=>{t!==this.curr&&(e.style.opacity="0")}))}}class L extends C{constructor(...e){super(...e)}changeSlide(){const e=this.items[this.curr],{duration:t}=this;if(null===this.prev)return r.to(e,{alpha:1,zIndex:1,duration:t}),null;const s=this.items[this.prev],i=r.timeline({duration:t});i.to(s,{alpha:0,x:-20,zIndex:0}),i.fromTo(e,{alpha:0,x:-20,zIndex:0},{alpha:1,x:0,zIndex:1})}intersectionObserver(){return new IntersectionObserver((e=>{e.forEach((e=>{const{isIntersecting:t}=e;t?(clearInterval(this.intervalId),this.autoplay()):clearInterval(this.intervalId)}))}),{threshold:.5})}init(){super.init(),this.observer=this.intersectionObserver(),this.observer.observe(this.root)}}class O{constructor(e){this.elm=e,this.imageBg=this.elm.querySelector(".page-footer__bg"),this.showImage=!0}ticker(){const e=this.elm.querySelectorAll(".ticker");e&&e.forEach((e=>new I(e,4)))}slider(){const e=this.elm.querySelector(".footer-feedback__slider");e&&new L(e,"footer-feedback__link",2e3)}toggleImageVisible(){this.showImage?this.imageBg.style.opacity="1":this.imageBg.style.opacity="0"}intersectionObserver(){return new IntersectionObserver((e=>{e.forEach((e=>{const{isIntersecting:t}=e;this.showImage=!!t,this.toggleImageVisible()}))}),{threshold:.5})}observeMenuBtnTheme(){new IntersectionObserver((e=>{e.forEach((e=>{const{isIntersecting:t}=e;t?(document.body.classList.add("menu-btn-white"),document.body.classList.add("header-feedback-white")):(document.body.classList.remove("menu-btn-white"),document.body.classList.remove("header-feedback-white"))}))}),{root:null,rootMargin:"0px 0px -60.5% 0px",threshold:.5}).observe(this.elm)}observeBtnTopTheme(){new IntersectionObserver((e=>{e.forEach((e=>{const{isIntersecting:t}=e;t?document.body.classList.add("btn-to-top-white"):document.body.classList.remove("btn-to-top-white")}))}),{root:null,rootMargin:"0px 0px 0px 0px",threshold:.2}).observe(this.elm)}init(){this.ticker(),this.slider(),this.observer=this.intersectionObserver(),this.observer.observe(this.elm),this.observeMenuBtnTheme(),this.observeBtnTopTheme()}}class T{constructor(e,t){this.elm=e,this.btn=t,this.elmChild={count:this.elm.childElementCount,children:this.elm.querySelector("li")},this.elmHeight=this.findListHeight(),this.isShow=!1,this.init()}findListHeight(){return(this.elmChild.children.offsetHeight+parseInt(window.getComputedStyle(this.elmChild.children).getPropertyValue("margin-bottom")))*this.elmChild.count}handleClick(){this.elm.style.willChange="max-height, margin-bottom",this.isShow?(this.isShow=!1,this.btn.dataset.hidden="true"):(this.isShow=!0,this.btn.dataset.hidden="false"),setTimeout((()=>r.to(this.elm,{maxHeight:this.isShow?this.elmHeight:0,duration:.3,onComplete:()=>{this.elm.style.willChange=null}})),100)}handleResize(){this.elmHeight=this.findListHeight(),parseInt(this.elm.style.maxHeight)>0&&(this.elm.style.maxHeight=`${this.elmHeight}px`)}init(){this.btn.addEventListener("click",this.handleClick.bind(this));const e=l.exports.throttle(this.handleResize,200);window.addEventListener("resize",e.bind(this))}}class q extends a{transformDelta(e){return this.options.open?{x:0,y:0}:e}}q.pluginName="modal",q.defaultOptions={open:!1};const _=e=>{e.updatePluginOptions("modal",{open:!0})},R=e=>{e.updatePluginOptions("modal",{open:!1})};class H extends a{constructor(){super(...arguments),this.onHashChange=()=>{this.handleHash(location.hash)},this.onClick=e=>{const t=e.target;if("A"!==t.tagName)return;const s=t.getAttribute("href");s&&"#"===s.charAt(0)&&this.handleHash(s)},this.handleHash=e=>{e&&("#top"===e?this.scrollbar.setMomentum(0,-this.scrollbar.scrollTop):this.scrollbar.scrollIntoView(document.querySelector(e),{offsetTop:-this.scrollbar.containerEl.scrollTop}))}}onInit(){this.handleHash(location.hash),window.addEventListener("hashchange",this.onHashChange),document.body.addEventListener("click",this.onClick)}onDestory(){window.removeEventListener("hashchange",this.onHashChange),document.body.removeEventListener("click",this.onClick)}}H.pluginName="anchor",r.registerPlugin(h);class D{constructor(e,t=!1){this.element=e,this.isGlobal=t,this.options={damping:.1,delegateTo:document,alwaysShowTracks:v.isDesktop}}addPlugins(){c.use(q,H)}addStyles(){this.isGlobal&&(document.body.style.overflow="hidden"),this.element.style.height="100vh";const e=this.element.querySelector(".scroll-content");e&&(e.style.willChange="transform")}addToGlobal(){v.scrollbar=this.smoothScrollInstance}setupScrollTrigger(){const e=this.smoothScrollInstance;h.scrollerProxy(this.element,{scrollTop(t){return arguments.length&&"number"==typeof t&&(e.scrollTop=t),e.scrollTop}}),e.addListener(h.update),h.defaults({scroller:this.element})}setup(){this.addStyles(),this.isGlobal&&(this.addToGlobal(),this.setupScrollTrigger())}getInstance(){return this.smoothScrollInstance}destroy(){this.smoothScrollInstance&&this.smoothScrollInstance.destroy()}init(){this.element?v.isTouchScreen||(this.addPlugins(),this.smoothScrollInstance=c.init(this.element,this.options),this.setup()):console.warn("Не удалось инициализировать плавный скролл.")}}class P{constructor(e,t,s,i,n=null){this.elm=e,this.elmSelector=this.elm.tagName.toLowerCase()+"."+Array.from(this.elm.classList).join("."),this.btnsOpen=t,this.btnClose=s,this.nav=i,this.isVisible=!1,this.appConfig=n,this.pageMain=document.querySelector("main"),this.pageHeader=document.querySelector("header"),this.pageFooter=document.querySelector("footer"),this.progressBar=document.querySelector(".progress-bar"),this.footerRedirect=document.querySelector(".footer-redirect"),this.blogTopElm=document.querySelector(".blog-deco-top"),this.blogSideElm=document.querySelector(".blog-deco-side"),this.moveTargets=[this.pageHeader,this.pageMain,this.progressBar,this.pageFooter,this.footerRedirect,this.blogTopElm,this.blogSideElm],this.moveTargets=this.moveTargets.filter((e=>null!==e)),this.elmWidth=this.elm.offsetWidth,this.scrollbarInstance=null,this.update=this.update.bind(this),this.handleClick=this.handleClick.bind(this),this.handleClickOutside=this.handleClickOutside.bind(this)}collapseSubMenu(){const e=this.nav.querySelectorAll(".page-nav__sub-list"),t=this.nav.querySelector(".page-nav__elm--selected");e.forEach((e=>{const s=e.previousElementSibling,i=new T(e,s),n=e.parentElement;s.addEventListener("click",(()=>{if(n===t)return null;i.isShow?(n.classList.add("page-nav__elm--active"),t.classList.add("page-nav__elm--disable")):(n.classList.remove("page-nav__elm--active"),t.classList.remove("page-nav__elm--disable"))}))}))}initScrollbar(){this.scrollbarInstance=new D(this.elm.querySelector(".page-menu__wrap")),this.scrollbarInstance.init()}destroyScrollbar(){this.scrollbarInstance&&this.scrollbarInstance.instance.destroy()}toggleView(e){const t=this.moveTargets,s=v.isDesktop?.1:.15,i=()=>r.to(this.elm,{x:e?0:-this.elmWidth,duration:.3,delay:s,onStart:()=>{this.elm.style.willChange="transform"},onComplete:()=>{this.elm.style.willChange=""}});v.isDesktop?r.timeline().add(i()).to(t,{x:e?this.elmWidth:0,duration:.3,delay:s,onStart:()=>{t.forEach((e=>{e.style.willChange="transform"}))},onComplete:()=>{e||(this.pageHeader.style.transform=null,this.elm.style.transform=null),t.forEach((e=>{e.style.willChange=null}))}},0).to(this.pageHeader,{alpha:e?0:1,duration:.3,delay:s,onStart(){const t=this.targets()[0];e?t.classList.add("is-menu-show"):t.classList.remove("is-menu-show")}},0):i().play()}handleClick(){this.isVisible=!this.isVisible,this.isVisible?v.scrollbar?_(v.scrollbar):d.exports.disablePageScroll(this.elm):v.scrollbar?R(v.scrollbar):d.exports.enablePageScroll(this.elm),this.toggleView(this.isVisible)}handleClickOutside(e){const t=this.btnsOpen[0];if(!this.isVisible||e.target===t||e.target.parentElement===t)return;!e.target.closest(this.elmSelector)&&this.handleClick()}addEvents(){this.btnsOpen.forEach((e=>{e.addEventListener("click",this.handleClick)})),this.btnClose.addEventListener("click",this.handleClick),v.isDesktop&&document.body.addEventListener("click",this.handleClickOutside)}update(){this.elmWidth=this.elm.offsetWidth,this.isVisible||r.set(this.elm,{x:-this.elmWidth})}desktop(){console.log("Menu - init desktop")}mobile(){}init(){this.collapseSubMenu(),this.addEvents(),this.initScrollbar()}}const V=(e,t)=>{new ResizeObserver((e=>{for(let s of e){const e=s.contentRect;console.log("Element:",s.target),console.log(`Element size: ${e.width}px x ${e.height}px`),console.log(`Element padding: ${e.top}px ; ${e.left}px`),t()}})).observe(e)},B={animate:!0,patternWidth:100,patternHeight:100,grainOpacity:.1,grainDensity:1,grainWidth:1,grainHeight:1,grainChaos:.5,grainSpeed:20};class ${constructor(e,t){try{if(this.element=e.tagName?e:void 0,!this.element)throw new Error(`Grained: cannot find the element with id ${e}`);this.elementSelector=this.getElementName(),this.options=t?o(o({},B),t):B,this.noise=this.generateNoise(),this.animation=this.createAnimation(),this.setStyle(),this.createStyleAnimation(),this.createStyleRules()}catch(s){console.error(s)}}getElementName(){const{element:e}=this,{id:t,className:s}=e;if(t)return`#${t}`;if(s)return`${e.tagName.toLowerCase()}.${s.split(" ")[0]}`;throw new Error("Can't get selector from element")}setStyle(){var e,t;"static"===(e=this.element,t="position",getComputedStyle(e).getPropertyValue(t))&&(this.element.style.position="relative"),this.element.style.overflow="hidden"}generateNoise(){const{options:e}=this,t=document.createElement("canvas"),s=t.getContext("2d");t.width=e.patternWidth,t.height=e.patternHeight;for(let i=0;i<e.patternWidth;i+=e.grainDensity)for(let t=0;t<e.patternHeight;t+=e.grainDensity){const n=256*Math.random()|0;s.fillStyle=`rgba(${[n,n,n,e.grainOpacity].join()})`,s.fillRect(i,t,e.grainWidth,e.grainHeight)}return t.toDataURL("image/png")}addCSSRule(e,t,s,i){let n="";n=t.length?`${t}{${s}}`:s,"insertRule"in e?e.insertRule(n,i):"addRule"in e&&e.addRule(t,s,i)}createAnimation(){let e="";return[{step:"0%",property:"transform:translate(-10%,10%)"},{step:"10%",property:"transform:translate(-25%,0%)"},{step:"20%",property:"transform:translate(-30%,10%)"},{step:"30%",property:"transform:translate(-30%,30%)"},{step:"40%",property:"transform:translate(-20%,20%)"},{step:"50%",property:"transform:translate(-15%,10%)"},{step:"60%",property:"transform:translate(-20%,20%)"},{step:"70%",property:"transform:translate(-5%,20%)"},{step:"80%",property:"transform:translate(-25%,5%)"},{step:"90%",property:"transform:translate(-30%,25%)"},{step:"10%",property:"transform:translate(-10%,10%)"}].forEach((t=>{e+=`${t.step}{${t.property};}`})),`@keyframes grained{${e}`}createStyleAnimation(){if(document.getElementById("grained-animation"))return;const e=document.createElement("style");e.id="grained-animation",e.innerHTML=this.animation,document.body.appendChild(e)}createStyleRules(){const{noise:e,options:t}=this,s=`\n      content: "";\n      position: absolute;\n      top: -100%;\n      left: -100%;\n      width: 300%;\n      height: 300%;\n      background-image: url(${e});\n      animation-name:grained;\n      animation-duration: ${t.grainChaos}s;\n      animation-iteration-count: infinite;\n      animation-timing-function: steps(${t.grainSpeed}, end);\n    `,i=`${this.elementSelector}::before`,n=document.createElement("style");n.id=`grained-animation-${this.elementSelector}`,document.body.appendChild(n),this.addCSSRule(n.sheet,i,s)}}const W={animate:!0,patternWidth:145,patternHeight:118,grainOpacity:.04,grainDensity:1,grainWidth:1,grainHeight:1},z=()=>{const e=document.querySelector(".progress-bar");e&&(e=>{let t;t=void 0===v.scrollbar?document.body:v.scrollbar.contentEl,r.to(e,{scale:1,ease:"none",scrollTrigger:{trigger:t,start:"top top",end:"bottom bottom",scrub:!0}})})(e)},M=()=>{f((()=>{"Android"===v.os&&document.body.classList.add("os-android")}),(()=>{"MacOS"===v.os&&document.body.classList.add("os-mac")})),(()=>{const e=document.querySelector(".page-menu"),t=document.querySelector(".page-nav"),s=document.querySelector(".page-header .menu-btn"),i=document.querySelector(".page-header-fixed .menu-btn"),n=document.querySelector(".page-menu__close"),o=document.querySelectorAll(".page-menu .ticker"),r={isDesktop:v.isDesktop},l=new P(e,[s,i],n,t,r);l.init(),o.length&&o.forEach((e=>{new I(e)})),f(l.mobile,l.desktop),V(e,l.update)})(),(()=>{if(!v.isDesktop||!v.scrollbar){const e=document.querySelector(".page-header-fixed");let t=document.documentElement.clientHeight+200,s=0,i=0,n=!1;const o=-100;null==e||e.setAttribute("aria-hidden","true"),r.set(e,{y:o,display:"block"});const a=()=>{n||(r.killTweensOf(e),n=!0,r.to(e,{y:0,force3D:!0,onStart(){r.set(e,{willChange:"transform"})}}))},h=()=>{n=!1},c=()=>{n&&(r.killTweensOf(e),r.to(e,{y:o,force3D:!0,onStart(){r.set(e,{willChange:"transform"})},onComplete(){r.set(e,{willChange:""}),h()}}))},d=e=>{i=e,0==(i>s?1:0)&&i>t?a():c(),s=i},m=()=>{d(document.documentElement.scrollTop)},u=l.exports.throttle(m,200);document.addEventListener("scroll",u,{passive:!0})}})(),(()=>{const e=document.querySelector(".page-footer");e&&new O(e).init()})(),(()=>{const e=document.querySelector("#scroll-container"),t=new D(e,!0);t.init();const s=t.getInstance();if(s){const e=document.querySelector(".page-header"),t=document.querySelector("#go-to-top"),i=document.querySelector(".page-blog");let n;i&&(async()=>{const e=await p((()=>import("./blogOnScrollAnimation.c7a6c706.js")),["/assets/blogOnScrollAnimation.c7a6c706.js","/assets/vendor.43b1651c.js"]);n=await e.default})(),s.addListener((s=>{const o=s.offset.y;o>10?e.classList.add("is-fixed"):e.classList.remove("is-fixed"),t&&(o>200?t.classList.add("is-show"):t.classList.remove("is-show")),i&&n&&n(o)}))}})(),z(),v.scrollbar&&v.isDesktop&&[document.body,document.querySelector(".page-menu"),document.querySelector(".page-footer"),document.querySelector(".footer-redirect")].forEach((e=>{e&&new $(e,W)})),v.isDesktop||p((()=>import("./scrollToTop.b4202ca2.js")),["/assets/scrollToTop.b4202ca2.js","/assets/vendor.43b1651c.js"]).then((({scrollToTop:e})=>{e()}))};function Q(){if(M(),x(w.lossy,((e,t)=>{t?document.documentElement.classList.add("webp"):document.documentElement.classList.add("no-webp")})),void 0===window.APP&&(window.APP=v),v.isDesktop)(()=>{const e=document.querySelector(".header-feedback"),t=e.querySelector(".header-feedback__bg");t.style.transform="translate(100%, -50%)";const s=new IntersectionObserver((e=>{e.forEach((e=>{const{isIntersecting:i}=e;i&&(t.style.transform="translate(0, -50%)",s.disconnect())}))}),{rootMargin:"0px",threshold:[.1,.5,1]});s.observe(e)})();else{window.addEventListener("resize",function(e){let t;function s(){let s=e.clientHeight;s!==t&&requestAnimationFrame((function(){e.style.setProperty("--vh",.01*s+"px"),t=s}))}return s(),s}(document.documentElement));-1!==navigator.appVersion.indexOf("CriOS")&&document.body.classList.add("ios-chrome")}}export{v as A,w as F,D as S,C as T,p as _,I as a,x as c,_ as d,R as e,Q as i,f as m,V as r};
