import{S as e,N as t,P as s,I as o,J as n}from"./vendor.js";const i=window.RECAPTCHA_KEY;e.use([t,s]);class l{constructor(e,t,s=i){this.formEl=e,this.validationRules=t,this.recaptchaKey=s,this.formEl&&this.validationRules&&this.recaptchaKey?this.init():console.error(`Не верный селектор: ${e}.`)}addValidation(){this.validation=new n(this.formEl),this.validationRules.forEach((e=>{this.validation.addField(e.field,e.rules)}))}addSubmitEvent(){this.formEl.addEventListener("submit",(e=>{e.preventDefault();this.validation.isValid?console.log("Form is valid!"):console.log("Form is not valid!")}))}handleSubmit(){console.log("SUBMIT");const e=this.recaptchaKey,t=this.formEl.action,s=new FormData(this.formEl),o={method:"POST",body:s},n=e=>{if(!e.ok)throw Error(e.statusText);return e.json()},i=e=>{if("ok"!==e.status.toLowerCase())throw Error(e.message);return e};return new Promise((function(l,r){window.grecaptcha.ready((()=>{window.grecaptcha.execute(e,{action:"form"}).then((e=>(s.append("recaptcha_response",e),fetch(t,o).then(n).then(i).catch((e=>console.error("Форма не отправилась",e)))))).then((()=>{l("success")}))}))}))}init(){this.addValidation(),this.addSubmitEvent()}}var r,c;r=function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(c=new Image).onload=c.onerror=function(){r(2==c.height)},c.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",document.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelector("body");document.querySelector(".wrapper"),document.querySelector(".header"),document.querySelector(".header__burger"),document.querySelector(".menu"),document.querySelector(".menu__link");const s=document.querySelector(".clients__inner");document.addEventListener("click",(function(e){const s=e.target;s.classList.contains("getting__item","getting__btn")&&s.classList.add("active");if(!s.classList.contains("getting__descr")&&!s.classList.contains("getting__item")){const e=document.querySelectorAll(".getting__item");for(let t=0;t<e.length;t++){const s=e[t];s.classList.contains("active")&&s.classList.remove("active")}}s.classList.contains("founder__btn-rest")&&!s.classList.contains("hide")&&(s.closest(".founder__quote").querySelector(".founder__text").classList.add("active"),s.classList.add("hide"));s.classList.contains("reviews__btn-rest")&&!s.classList.contains("hide")&&(s.closest(".reviews__info").querySelector(".reviews__text").classList.add("active"),s.classList.add("hide"),w.update());s.classList.contains("work-context__btn-rest")&&!s.classList.contains("hide")&&(s.closest(".work-context__item").querySelector(".work-context__descr").classList.add("active"),s.classList.add("hide"),a.update());if(s.classList.contains("progress-work__btn")&&!s.classList.contains("active")){const e=document.querySelectorAll(".progress-work__btn");for(let s=0;s<e.length;s++){e[s].classList.remove("active")}s.classList.add("active");const t=document.querySelectorAll(".prosressing-work");for(let s=0;s<t.length;s++){t[s].classList.remove("active")}document.querySelector("."+s.dataset.filter).classList.add("active")}s.classList.contains("examples__link")&&(t.classList.add("lock"),s.closest(".examples__item").querySelector(".examples__lightbox").classList.add("open"));s.classList.contains("examples__badge")&&(t.classList.add("lock"),s.closest(".examples__item").querySelector(".examples__lightbox").classList.add("open"));s.classList.contains("examples__lightbox")&&(t.classList.remove("lock"),s.classList.remove("open"));s.classList.contains("examples__image")&&(t.classList.remove("lock"),s.closest(".examples__lightbox").classList.remove("open"));s.classList.contains("examples-style__btn")&&(t.classList.add("lock"),s.closest(".examples-style__item").querySelector(".examples-style__lightbox").classList.add("open"));s.classList.contains("examples__badge")&&(t.classList.add("lock"),s.closest(".examples-style__item").querySelector(".examples-style__lightbox").classList.add("open"));s.classList.contains("examples-style__lightbox")&&(t.classList.remove("lock"),s.classList.remove("open"));s.classList.contains("examples-style__lightbox-img")&&(t.classList.remove("lock"),s.closest(".examples-style__lightbox").classList.remove("open"));s.classList.contains("development__button")&&(s.classList.add("hidden"),s.closest(".development__body").classList.add("visible"),s.closest(".development__body").querySelector(".development__wrapper").classList.add("visible"));s.classList.contains("development__btn")&&(s.closest(".development-sections").querySelector(".progress-work").classList.add("visible"),s.closest(".development-sections").querySelector(".development").classList.add("hidden"));if(!s.classList.contains("progress-work__btn")&&!s.classList.contains("progress-work__btn-popup")&&!s.classList.contains("development__btn")){const e=document.querySelector(".progress-work"),t=document.querySelector(".development");e&&e.classList.contains("visible")&&(e.classList.remove("visible"),t.classList.remove("hidden"))}if(s.classList.contains("work-context__btn")){const e=document.querySelectorAll(".work-context__btn");for(let o=0;o<e.length;o++){const t=e[o];t.classList.contains("active")&&(t.classList.remove("active"),s.classList.add("active"))}const t=s.dataset.filter;a.slideTo(t,300)}})),window.addEventListener("scroll",(function(){!function(){const e=document.querySelectorAll(".getting__item");for(let t=0;t<e.length;t++){const s=e[t];s.classList.contains("active")&&s.classList.remove("active")}}()})),s.scrollLeft=500;const n=document.querySelector(".top__image");if(n){let e=function(){window.innerWidth<=991.98&&!o()&&(n.classList.add("moved"),s.append(n)),window.innerWidth>991.98&&o()&&(n.classList.remove("moved"),t.append(n))};const t=n.closest(".top__body"),s=t.querySelector(".top__info"),o=()=>n.classList.contains("moved");e(),window.addEventListener("resize",(function(){e()}))}const i=document.querySelector(".founder__image");if(i){let e=function(){window.innerWidth<=767.98&&!o()&&(i.classList.add("moved"),s.prepend(i)),window.innerWidth>767.98&&o()&&(i.classList.remove("moved"),t.prepend(i))};const t=i.closest(".founder__container"),s=t.querySelector(".founder__info"),o=()=>i.classList.contains("moved");e(),window.addEventListener("resize",(function(){e()}))}const r=document.querySelector("#applicantsPhone"),c=document.querySelector("#pricesPhone"),d=document.querySelector("#developedPhone"),u=document.querySelector("#whyContextPhone"),m=document.querySelector("#smmPhone");if(r){o(r,{mask:"+{7}(000) 000 00 00"})}if(c){o(c,{mask:"+{7}(000) 000 00 00"})}if(d){o(d,{mask:"+{7}(000) 000 00 00"})}if(u){o(u,{mask:"+{7}(000) 000 00 00"})}if(m){o(m,{mask:"+{7}(000) 000 00 00"})}const _=document.querySelectorAll("input");for(let e=0;e<_.length;e++){_[e].addEventListener("change",(function(){this.value.length?this.classList.add("valid"):this.classList.remove("valid")}))}const p=document.querySelector(".applicants__form");p&&new l(p,[{field:"#applicantsName",rules:[{rule:"minLength",value:3,errorMessage:"*это поле необходимо заполнить"}]},{field:"#applicantsPhone",rules:[{rule:"minLength",value:17,errorMessage:"*это поле необходимо заполнить"}]}]);const v=document.querySelector(".prices-im__form");console.log("🚀 ~ file: script.js ~ line 515 ~ document.addEventListener ~ pricesIm",v),v&&new l(v,[{field:"#pricesName",rules:[{rule:"minLength",value:3,errorMessage:"*это поле необходимо заполнить"}]},{field:"#pricesPhone",rules:[{rule:"minLength",value:17,errorMessage:"*это поле необходимо заполнить"}]}]);const h=document.querySelector(".prices__form");h&&new l(h,[{field:"#pricesName",rules:[{rule:"minLength",value:3,errorMessage:"*это поле необходимо заполнить"}]},{field:"#pricesPhone",rules:[{rule:"minLength",value:17,errorMessage:"*это поле необходимо заполнить"}]}]);const g=document.querySelector(".development__form");g&&new l(g,[{field:"#developedName",rules:[{rule:"minLength",value:3,errorMessage:"*это поле необходимо заполнить"}]},{field:"#developedPhone",rules:[{rule:"minLength",value:17,errorMessage:"*это поле необходимо заполнить"}]}]);const L=document.querySelector(".why-context__form");L&&new l(L,[{field:"#whyContextName",rules:[{rule:"minLength",value:3,errorMessage:"*это поле необходимо заполнить"}]},{field:"#whyContextPhone",rules:[{rule:"minLength",value:17,errorMessage:"*это поле необходимо заполнить"}]}]);const f=document.querySelector(".form-box__form");f&&new l(f,[{field:"#smmName",rules:[{rule:"minLength",value:3,errorMessage:"*это поле необходимо заполнить"}]},{field:"#smmPhone",rules:[{rule:"minLength",value:17,errorMessage:"*это поле необходимо заполнить"}]}]);const w=new e(".reviews__body",{watchOverflow:!0,slidesPerView:1,grabCursor:!0,autoHeight:!0,navigation:{nextEl:".reviews__next",prevEl:".reviews__prev"},pagination:{el:".reviews__pagination",type:"bullets"},breakpoints:{991.98:{pagination:{autoHeight:!1,el:".reviews__pagination",type:"fraction"}}}}),y=document.querySelector(".our-help__list");y&&(document.onmousemove=function(e){let t=e.y,s=e.x;const o=y.getBoundingClientRect().top,n=y.getBoundingClientRect().left,i=document.querySelector(".our-help__arrow svg");let l=t-o,r=s-n,c=y.offsetHeight,a=y.offsetWidth;l>=0&&l<=c-10&&r>=0&&r<=a?(i.style.transform="translateY("+l+"px)",i.style.opacity=1):i.style.opacity=0})}));const a=new e(".work-context__slider",{watchOverflow:!0,slidesPerView:1,grabCursor:!0,autoHeight:!0,pagination:{el:".work-context__pagination",type:"bullets"}});a.on("slideChange",(function(){let e=this.realIndex;const t=document.querySelectorAll(".work-context__btn");for(let s=0;s<t.length;s++){const o=t[s];if(o.classList.remove("active"),o.dataset.filter==e){o.classList.add("active");const e=o.getBoundingClientRect().left;document.querySelector(".work-context__wrapper").scrollBy({left:e-50,behavior:"smooth"})}}}));document.querySelector(".work-context__wrapper")&&function(){let e=document.querySelector(".work-context__wrapper"),t=0,s=!1,o=0;e.addEventListener("mousedown",(function(e){s=!0,o=e.pageX-this.offsetLeft})),document.addEventListener("mouseup",(function(){s=!1,t=e.scrollLeft})),e.addEventListener("mousemove",(function(e){s&&(this.scrollLeft=t-1*(e.pageX-this.offsetLeft-o))}))}(),new e(".composition__image.swiper",{watchOverflow:!0,slidesPerView:1,grabCursor:!0,autoHeight:!0,navigation:{nextEl:".composition__btn--next",prevEl:".composition__btn--prev"},pagination:{el:".composition__pagination",type:"fraction"}});
