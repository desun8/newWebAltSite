var e=Object.defineProperty,t=Object.defineProperties,l=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,i=(t,l,s)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[l]=s,o=(e,t)=>{for(var l in t||(t={}))a.call(t,l)&&i(e,l,t[l]);if(s)for(var l of s(t))n.call(t,l)&&i(e,l,t[l]);return e};import{y as r,B as d,A as c,H as u,n as m,e as p,f,r as g,w as v,p as h,j as x,k as I,o as b,D as y,i as E,g as k,l as w,J as L,T as _,F as T,m as S,q as F,v as q,K as O,L as j,M,z as V,N as D,O as P,P as z,x as A}from"./vendor.5e96a560.js";import{e as C,A as H,f as N,_ as $,m as G,l as R,S as B,p as X}from"./root.e59f3fc0.js";import{_ as J}from"./Filter.7d013e86.js";class K{static async get(e,t={method:"GET"}){try{const l=await fetch(e,t);if(!l.ok)throw new Error(`Ошибка HTTP: ${l.status}`);const s=await l.json();return console.log("🚀 ~ file: Https.ts ~ line 11 ~ Https ~ get ~ data",s),await s.results}catch(l){console.error(l)}}}var W=m({props:{id:{type:String,required:!0}},setup:()=>o({},function(){const e=r(),t=r();return u("dialogElm",e),d((()=>{e.value&&(t.value=new c(e.value),t.value.on("show",(()=>{C(e.value,H.scrollbar)})),t.value.on("hide",(()=>{N(e.value,H.scrollbar)})))})),{dialogElm:e,dialog:t,openDialog:()=>{var e;null==(e=t.value)||e.show()},closeDialog:()=>{var e;null==(e=t.value)||e.hide()}}}())});const Q=v();h("data-v-2057787a");const U=f("div",{class:"dialog-overlay","data-a11y-dialog-hide":""},null,-1),Y={class:"dialog-content",role:"document"},Z=f("div",{class:"dialog-close"},[f("button",{class:"page-menu__close",type:"button","aria-label":"Закрыть диалог.","data-a11y-dialog-hide":""},[f("span",{class:"icon-cross"}),x("close ")])],-1),ee=f("h2",{id:"dialog-works-title",class:"sr-only"},"Все работы.",-1);I();const te=Q(((e,t,l,s,a,n)=>(b(),p("div",{ref:"dialogElm",id:e.id,class:"dialog-container works-dialog","aria-labelledby":"dialog-works-title","aria-hidden":"true"},[U,f("div",Y,[Z,ee,g(e.$slots,"default",{},void 0,!0)])],8,["id"]))));W.render=te,W.__scopeId="data-v-2057787a";var le=m({props:{id:{type:String,required:!0},title:{type:String,required:!0},kind:{type:String,required:!0},tags:{type:Array,required:!0},text:{type:String,required:!0},imgPath:{type:String,required:!0},href:{type:String,required:!0},setItemInfo:{type:Function,required:!0}},setup(e){const t=r(),{kind:l,tags:s,imgPath:a,text:n,setItemInfo:i}=y(e),o=`#${s.value.join(" #")}`,c=()=>{i.value(l.value,o,n.value,a.value)};return d((()=>{t.value&&t.value.addEventListener("mouseenter",c,{passive:!0})})),{item:t,formatedTags:o}}});const se=v();h("data-v-5994ca54");const ae={class:"not-last:mb-5 lg:not-last:mb-9"},ne={ref:"item",class:"relative grid hover:text-sun"},ie={class:"\n          title\n          text-32px\n          leading-none\n          font-semibold\n          uppercase\n          transition-colors\n        "},oe={class:"\n          mb-0.5\n          text-sun text-xs\n          leading-none\n          font-semibold\n          uppercase\n          lg:hidden\n        "},re={class:"text-xs leading-none opacity-50 lg:hidden"};I();const de=se(((e,t,l,s,a,n)=>(b(),p("li",ae,[f("article",ne,[f("h3",ie,E(e.title),1),f("span",oe,E(e.kind),1),f("span",re,E(e.formatedTags),1),f("a",{class:"absolute top-0 left-0 w-full h-full",href:e.href},null,8,["href"])],512)]))));le.render=de,le.__scopeId="data-v-5994ca54";var ce=m({components:{ListItem:le},props:{items:{type:Array,required:!0},setItemInfo:{type:Function,required:!0},setContentListElm:{type:Function,required:!0}},data:()=>({duration:.5}),methods:{enter(e,t){const{duration:l}=this,s=l;k.from(e,{y:50,alpha:0,duration:l,delay:s,onComplete(){t()}})},leave(e,t){const{duration:l}=this;k.to(e,{y:50,alpha:0,duration:l,onComplete(){t()}})}},mounted(){this.$refs.list&&this.setContentListElm(this.$refs.list)}});const ue={ref:"list"};ce.render=function(e,t,l,s,a,n){const i=w("list-item");return b(),p("div",ue,[f(_,{name:"works-list",tag:"ul",class:"pb-5",onEnter:e.enter,onLeave:e.leave},{default:L((()=>[(b(!0),p(T,null,S(e.items,(t=>(b(),p(i,{key:t.id,id:`${t.id}`,title:t.title,kind:t.kind,tags:t.tags,text:t.text,imgPath:t.img,href:t.href,"set-item-info":e.setItemInfo},null,8,["id","title","kind","tags","text","imgPath","href","set-item-info"])))),128))])),_:1},8,["onEnter","onLeave"])],512)};var me=m({props:{setInfoElm:{type:Function,required:!0},kind:{type:String,required:!0},tags:{type:String,required:!0},image:String,text:String},setup(e){const t=r();return d((()=>{t.value&&e.setInfoElm(t.value)})),{infoElm:t}}});const pe=v();h("data-v-0402a828");const fe={ref:"infoElm",class:"\n      <lg:hidden\n      grid\n      items-center\n      content-center\n      justify-center\n      h-screen\n      p-$base-page-gap\n    ","data-a11y-dialog-hide":""};I();const ge=pe(((e,t,l,s,a,n)=>(b(),p("div",fe,[F(f("img",{src:e.image,class:"max-h-70vh mb-3",alt:"",role:"presentation"},null,8,["src"]),[[q,e.image]]),f("span",{ref:"kind",class:"mb-1 text-2xl leading-none text-sun font-semibold uppercase"},E(e.kind),513),f("span",{ref:"tags",class:"text-xs"},E(e.tags),513),F(f("span",{innerHTML:e.text,class:"text"},null,8,["innerHTML"]),[[q,!e.image]])],512))));me.render=ge,me.__scopeId="data-v-0402a828";var ve=m({props:{setRef:{type:Function,required:!0}},setup(e){const t=e.setRef,l=r();return d((()=>{l.value&&(new O(l.value,{autoHide:!1}),t(l.value))})),{simplebar:l}}});const he=v();h("data-v-03f7e467");const xe={ref:"simplebar",class:"simplebar"};I();const Ie=he(((e,t,l,s,a,n)=>(b(),p("div",xe,[g(e.$slots,"default",{},void 0,!0)],512))));ve.render=Ie,ve.__scopeId="data-v-03f7e467";var be=m({setup(){const e=r(),t=j("dialogElm");return d((()=>{!H.isDesktop&&e.value&&$((()=>import("./redirectFooter.20852222.js")),["/assets/redirectFooter.20852222.js","/assets/vendor.5e96a560.js"]).then((({default:t})=>{const l=new t(e.value);G((()=>l.initMobile()),(()=>{}))}))})),{rootElm:e,goToTop:()=>{null==t||t.value.scrollTo(0,0)}}}});const ye={ref:"rootElm",class:"footer-redirect !py-24 lg:hidden"},Ee=f("div",{class:"footer-redirect__wrap","aria-hidden":"true"},[f("div",{class:"footer-redirect__title"},[f("svg",{class:"footer-redirect__name-svg","fill-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"1.414","clip-rule":"evenodd",version:"1.1",viewBox:"0 0 258 39","xml:space":"preserve"},[f("defs",null,[f("linearGradient",{id:"vue-a"},[f("stop",{id:"anim-grad-color-active-top",offset:"0%","stop-color":"#ff5000"}),f("stop",{offset:"0%","stop-color":"#c4c4c4"})])]),f("path",{fill:"url(#vue-a)","fill-rule":"nonzero",d:"M251.31 38.5h-2.323V9.315h-5.809L250.148 0l6.97 9.315h-5.808V38.5zm-17.535 0h-2.434V9.315h-6.085L232.558 0l7.301 9.315h-6.084V38.5zm-88.625 0h-28.912V.8h28.912v7.8h-20.02v6.604h18.928v7.852H125.13v7.592h20.02V38.5zm14.765 0h-8.892V.8h14.508c2.427 0 4.68.173 6.76.52 2.115.347 3.935.988 5.46 1.924 1.526.901 2.722 2.149 3.588 3.744.867 1.595 1.3 3.623 1.3 6.084 0 2.496-.433 4.541-1.3 6.136a9.93 9.93 0 01-3.588 3.796c-1.525.901-3.345 1.543-5.46 1.924-2.08.347-4.333.52-6.76.52h-5.616V38.5zm-64.35 0H78.457V.8h16.432c2.08 0 3.987.139 5.72.416 1.768.277 3.293.78 4.576 1.508a7.873 7.873 0 013.016 3.016c.728 1.248 1.092 2.86 1.092 4.836 0 1.733-.381 3.259-1.144 4.576-.763 1.283-1.872 2.375-3.328 3.276 1.768.624 3.207 1.629 4.316 3.016 1.109 1.352 1.664 3.172 1.664 5.46 0 2.115-.364 3.917-1.092 5.408a9.432 9.432 0 01-3.12 3.588c-1.317.901-2.912 1.56-4.784 1.976-1.872.416-3.952.624-6.24.624zm-86.673 0H0V.8h8.892v14.404h15.496V.8h8.892v37.7h-8.892V23.056H8.892V38.5zm66.101 0h-9.672l-2.288-6.708h-14.56L46.237 38.5h-9.464L50.969.8h9.776l14.248 37.7zm116.439 0h-10.244l14.144-19.188L181.812.8h10.452l8.32 11.388L208.956.8h10.296L205.68 19.156 219.876 38.5h-10.452l-8.996-12.22-8.996 12.22zM87.349 31.012h8.32c1.907 0 3.328-.381 4.264-1.144.971-.763 1.456-1.803 1.456-3.12 0-1.317-.485-2.357-1.456-3.12-.936-.763-2.357-1.144-4.264-1.144h-8.32v8.528zm-36.432-6.448h9.724l-4.836-14.352-4.888 14.352zM159.915 8.288v9.672h5.876c1.04 0 2.011-.069 2.912-.208.902-.139 1.682-.381 2.34-.728.694-.381 1.231-.884 1.612-1.508.382-.624.572-1.439.572-2.444 0-.971-.19-1.768-.572-2.392a3.864 3.864 0 00-1.612-1.456c-.658-.381-1.438-.624-2.34-.728a19.132 19.132 0 00-2.912-.208h-5.876zM87.349 15.88h7.852c1.56 0 2.756-.347 3.588-1.04.832-.693 1.248-1.629 1.248-2.808 0-1.179-.416-2.097-1.248-2.756-.832-.659-2.028-.988-3.588-.988h-7.852v7.592z"})])])],-1);var ke,we;be.render=function(e,t,l,s,a,n){return b(),p("div",ye,[f("a",{href:"#",class:"footer-redirect__link","aria-label":"Вернуться в начало страницы.",onClick:t[1]||(t[1]=M(((...t)=>e.goToTop&&e.goToTop(...t)),["prevent"]))}),Ee],512)},(we=ke||(ke={})).ALL="все",we.DEVELOPMENT="разработка",we.DESIGN="дизайн",we.CONTEXT="контекст",we.SMM="smm";function Le(e){R("Start useItems works-dialog");const s=r([]),a=V((()=>{let a;console.log("computed all-works items"),e.value===ke.ALL?(console.log("filter === all"),a=s.value):(console.log("filter !== all"),a=s.value.filter((t=>0!==t.types.filter((t=>t===e.value)).length)),console.log("🚀 ~ file: useItems.ts ~ line 39 ~ filteredItems=items.value.filter ~ filteredItems",a));const n=Date.now();return console.log("set random item id"),a=a.map((e=>{return s=o({},e),a={id:e.id+n},t(s,l(a));var s,a})),console.log("🚀 ~ file: useItems.ts ~ line 31 ~ filteredItems=filteredItems.map ~ filteredItems",a),R("End useItems works-dialog"),a})),n=V((()=>a.value.length));return d((async()=>{const e=await(async()=>await K.get("/api/works"))();console.log("🚀 ~ file: useItems.ts ~ line 14 ~ getWorksCards ~ cards",e),await s.value.push(...e)})),{itemsFiltered:a,total:n}}var _e=m({components:{FilterElement:J,Simplebar:ve,ListElement:ce,ListItemInfo:me,BtnToTop:be},props:{setTotal:{type:Function,required:!0}},setup(e){const t=r(),{activeFilter:l,setActiveFilter:s,filterItems:a}=function(){const e=r(ke.ALL),t=[{value:ke.ALL,name:ke.ALL,checked:!0},{value:ke.DEVELOPMENT,name:ke.DEVELOPMENT,checked:!1},{value:ke.DESIGN,name:ke.DESIGN,checked:!1},{value:ke.CONTEXT,name:ke.CONTEXT,checked:!1},{value:ke.SMM,name:ke.SMM,checked:!1}];return{activeFilter:e,setActiveFilter:t=>{e.value=t},filterItems:t}}(),{itemsFiltered:n,total:i}=Le(l),o=e.setTotal;D(i,(e=>{o(e)})),P((()=>{X()}));const{setInfoElm:c,itemInfo:u,setItemInfo:m}=function(){const e=r(),t=r({img:"",kind:"",tags:"",text:""});return{setInfoElm:t=>{e.value=t},itemInfo:t,setItemInfo:(l,s,a,n)=>{e.value&&(k.killTweensOf(e.value),k.timeline().to(e.value,{alpha:0,duration:.1,onComplete(){console.log("text",a),t.value={img:n,kind:l,tags:s,text:a}}}).to(e.value,{alpha:1,duration:.2,delay:.1}))}}}(),{listElm:p,scrollbar:f}=function(){const e=r(),t=r();return d((()=>{e.value&&(t.value=new B(e.value),t.value.init())})),{listElm:e,scrollbar:t}}(),{simplebar:g,setSimplebar:v}=function(){const e=r();return{simplebar:e,setSimplebar:t=>{e.value=t}}}(),h=V((()=>({simplebar:g.value,scrollbar:f.value})));return{contentListElm:t,setContentListElm:e=>{t.value=e},activeFilter:l,setActiveFilter:s,filterItems:a,itemsFiltered:n,total:i,setInfoElm:c,itemInfo:u,setItemInfo:m,listElm:p,scrollbar:f,simplebar:g,setSimplebar:v,staticElms:h}}});const Te=v();h("data-v-9ce609ee");const Se={class:"flex flex-col min-h-full lg:grid lg:grid-cols-2"},Fe={ref:"listElm",class:"list flex-grow"};I();const qe=Te(((e,t,l,s,a,n)=>{const i=w("list-item-info"),o=w("filter-element"),r=w("simplebar"),d=w("list-element"),c=w("btn-to-top");return b(),p("div",Se,[f(i,{kind:e.itemInfo.kind,tags:e.itemInfo.tags,image:e.itemInfo.img,text:e.itemInfo.text,"set-info-elm":e.setInfoElm},null,8,["kind","tags","image","text","set-info-elm"]),f("div",Fe,[f(r,{setRef:e.setSimplebar},{default:Te((()=>[f(o,{"filter-items":e.filterItems,"set-active-filter":e.setActiveFilter,"is-static":!0,"static-elms":e.staticElms,contentList:e.contentListElm,"filter-name":"filter-dialog"},null,8,["filter-items","set-active-filter","static-elms","contentList"])])),_:1},8,["setRef"]),f(d,{items:e.itemsFiltered,"set-item-info":e.setItemInfo,"set-content-list-elm":e.setContentListElm},null,8,["items","set-item-info","set-content-list-elm"])],512),f(c)])}));_e.render=qe,_e.__scopeId="data-v-9ce609ee";var Oe=m({props:{dialogId:{type:String,required:!0},totalItems:{type:Number,required:!0}}});const je=v();h("data-v-f7864460");const Me={class:"link__text"},Ve=f("span",{class:"inline-block mb-2"},"все кейсы",-1),De=f("br",null,null,-1),Pe=f("span",{class:"\n        link__icon\n        opacity-10\n        !w-78px\n        !h-78px\n        !lg: !lg: !lg: !lg: !lg: !lg: !lg: !lg: !lg: !lg:ml-10\n        !xl:w-150px !xl: !xl: !xl: !xl: !xl: !xl: !xl: !xl: !xl:h-150px !xl: !xl: !xl: !xl: !xl: !xl: !xl: !xl: !xl:ml-14\n        !2xl:w-216px !2xl: !2xl: !2xl: !2xl: !2xl: !2xl: !2xl: !2xl: !2xl:h-216px\n      "},[f("svg",{class:"link__arrow !w-full !h-full",width:"12",height:"12","aria-hidden":"true"},[f("use",{"xlink:href":"#icon-arrow"})])],-1);I();const ze=je(((e,t,l,s,a,n)=>(b(),p("button",{class:"\n      link link--btn\n      flex\n      justify-between\n      items-center\n      w-full\n      h-full\n      px-$base-page-gap\n      py-11\n      bg-sun\n      !text-black\n      text-1.5xl\n      leading-8\n      tracking-wide\n      font-semibold\n      text-left\n      uppercase\n      lg:justify-end lg: lg: lg: lg: lg: lg: lg:text-2xl lg:text-right\n      xl:text-32px xl: xl: xl: xl: xl: xl: xl:font-medium\n    ","aria-label":"Открыть модальное окно со всеми проектами.","data-a11y-dialog-show":e.dialogId},[f("span",Me,[Ve,De,f("span",{class:{"opacity-0":!e.totalItems}},E(`(${e.totalItems})`),3)]),Pe],8,["data-a11y-dialog-show"]))));Oe.render=ze,Oe.__scopeId="data-v-f7864460";var Ae=m({components:{DialogElement:W,DialogBtnOpen:Oe,DialogContent:_e},setup(){const e=r(0);return{total:e,setTotal:t=>{e.value=t},dialogId:"dialog-works"}}});Ae.render=function(e,t,l,s,a,n){const i=w("dialog-btn-open"),o=w("dialog-content"),r=w("dialog-element");return b(),p(T,null,[f(i,{"dialog-id":e.dialogId,"total-items":e.total},null,8,["dialog-id","total-items"]),(b(),p(z,{to:"body"},[f(r,{id:e.dialogId},{default:L((()=>[f(o,{"set-total":e.setTotal},null,8,["set-total"])])),_:1},8,["id"])]))],64)};const Ce=()=>{A(Ae).mount("#app-works-dialog")};export{K as H,Ce as i};
