import{g as t}from"./vendor.js";import{v as e,s as o}from"./validation.js";import"./root.js";const s=s=>{s||(s=document.querySelector(".subscribe-block"));let a=!1;if(s&&"true"!==s.dataset.isInit){s.dataset.isInit="true";const r=e=>{const o=e.textContent,s=e.dataset.message||"",r=o=>{t.to(e,{y:10,alpha:0,duration:.6,onComplete(){e.textContent=o,t.to(e,{y:0,alpha:1,duration:.6})}})};s&&(r(s),setTimeout((()=>{r(o),a=!1,i.value=""}),2400))},n=s.querySelector("form"),i=n.querySelector("input[type=email]"),l=n.querySelector(".js-text");n.onsubmit=t=>{t.preventDefault();const s=e(i);!a&&s&&(a=!0,(async()=>{const t=await o(n);console.log(t),r(l)})())}}};export{s as initSubscribeBlock};
