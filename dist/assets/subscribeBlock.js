import{g as t}from"./vendor.js";import{v as e,s as o}from"./validation.js";import"./root.js";const a=a=>{a||(a=document.querySelector(".subscribe-block"));let s=!1;if(a&&"true"!==a.dataset.isInit){a.dataset.isInit="true";const r=e=>{const o=e.textContent,a=e.dataset.message||"",r=o=>{t.to(e,{y:10,alpha:0,duration:.6,onComplete(){e.textContent=o,t.to(e,{y:0,alpha:1,duration:.6})}})};a&&(r(a),setTimeout((()=>{r(o),s=!1,i.value=""}),2400))},n=a.querySelector("form"),i=n.querySelector("input[type=email]"),u=n.querySelector(".js-text");n.onsubmit=t=>{t.preventDefault();const a=e(i);!s&&a&&(s=!0,(async()=>{await o(n),r(u)})())}}};export{a as initSubscribeBlock};
