import{g as t}from"./vendor.js";import{v as e,s as o}from"./validation.js";import{b as s}from"./root.js";const a=a=>{a||(a=document.querySelector(".subscribe-block"));let n=!1;if(a&&"true"!==a.dataset.isInit){a.dataset.isInit="true";const r=e=>{const o=e.textContent,s=e.dataset.message||"",a=o=>{t.to(e,{y:10,alpha:0,duration:.6,onComplete(){e.textContent=o,t.to(e,{y:0,alpha:1,duration:.6})}})};s&&(a(s),setTimeout((()=>{a(o),n=!1,u.value=""}),2400))},i=a.querySelector("form"),u=i.querySelector("input[type=email]"),c=i.querySelector(".js-text");i.addEventListener("focusin",(()=>{s()})),i.onsubmit=t=>{t.preventDefault();const s=e(u);!n&&s&&(n=!0,(async()=>{const t=await o(i);console.log(t),r(c)})())}}};export{a as initSubscribeBlock};
